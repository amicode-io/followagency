import{a2 as R,a3 as W,b as i,C as N,k as p,L as o,U as e,$ as S,_ as z,P as A,a1 as H,u as l,a4 as P,a5 as F,c as T,H as y,a0 as U,E as n,a6 as E}from"./B-6myj8f.js";import"./BpGRBeM2.js";import{_ as L}from"./DlAUqK2U.js";const j=window.setInterval,q=["id"],G={class:"m-flipster__title"},J={class:"m-flipster__list"},K=["src"],O={key:1,"data-video":"lazy",width:"579",height:"1167",autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},Q=["src"],X={class:"m-flipster__drag"},Y={class:"m-flipster__handle"},Z={__name:"ContentFlipster",props:{id:{type:String,default:""},title:{type:String,default:""}},setup(u){const f=R("flipsterWrap"),b=U(),{x:w}=W(f,{initialValue:{x:0,y:0}}),g=i(1440);N(()=>{g.value=window.innerWidth});const v=i([{type:"image",image_url:"https://picsum.photos/seed/1/400/805"},{type:"video",video_url:"https://pub-2b2d7646d0674576865bb5969de02ed2.r2.dev/4769627-uhd_2160_4096_25fps.mp4"},{type:"image",image_url:"https://picsum.photos/seed/2/400/805"},{type:"image",image_url:"https://picsum.photos/seed/3/400/805"},{type:"image",image_url:"https://picsum.photos/seed/4/400/805"},{type:"video",video_url:"https://pub-2b2d7646d0674576865bb5969de02ed2.r2.dev/12694168_1080_1920_60fps.mp4"},{type:"image",image_url:"https://picsum.photos/seed/5/400/805"},{type:"image",image_url:"https://picsum.photos/seed/6/400/805"},{type:"video",video_url:"https://pub-2b2d7646d0674576865bb5969de02ed2.r2.dev/7251768-uhd_2160_3840_25fps.mp4"},{type:"image",image_url:"https://picsum.photos/seed/7/400/805"}]),h=i(25),c=i(5),I=p(()=>v.value.length),_=i(15),s=i(0),k=p(()=>Math.atan2(_.value,h.value)*(180/Math.PI)+c.value),x=p(()=>(I.value-1)*k.value),C=i(Math.round(-90-x.value/2)),M=p(()=>`${C.value-s.value+Math.floor(w.value/g.value*180)}deg`),r=i(),m=i(!1),D=()=>{s.value===-180&&(m.value=!1),s.value===180&&(m.value=!0),m.value?s.value=Number(s.value)-1:s.value=Number(s.value)+1},V=()=>{r.value||(r.value=j(D,200))},$=()=>{clearInterval(r.value),r.value=null};return(d,t)=>(n(),o("section",{id:u.id?u.id:l(b),class:"m-flipster",style:y(`
      --flipster-items: ${l(v).length};
      --flipster-size: ${l(_)};
      --flipster-diameter: ${l(h)};
      --flipster-distance: ${l(c)};
      --rotation: ${l(M)};
    `)},[e("h2",G,[e("span",null,[S(z(u.title)+" ",1),t[3]||(t[3]=e("svg",{class:"u-svg is-start",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1)),t[4]||(t[4]=e("svg",{class:"u-svg is-end",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1))])]),e("div",{ref_key:"flipsterWrap",ref:f,class:"m-flipster__wrap",onMouseenter:$,onMouseleave:V,onDragstart:t[2]||(t[2]=(...a)=>d.onDragstart&&d.onDragstart(...a))},[e("div",J,[(n(!0),o(A,null,H(l(v),(a,B)=>(n(),o("div",{class:"m-flipster__item",style:y(`--n: ${B}`)},[a.type==="image"?(n(),o("img",{key:0,src:a.image_url,alt:"",loading:"lazy"},null,8,K)):a.type==="video"?(n(),o("video",O,[e("source",{src:a.video_url,type:"video/mp4"},null,8,Q)])):E("",!0)],4))),256))]),e("div",X,[e("div",Y,[t[5]||(t[5]=e("label",{for:"flipsterRange",class:"u-visually-hidden"}," Rotation ",-1)),P(e("input",{class:"m-flipster__range",type:"range",min:-180,max:180,step:"1",id:"flipsterRange","onUpdate:modelValue":t[0]||(t[0]=a=>T(s)?s.value=a:null),style:{width:"100%"},onInput:t[1]||(t[1]=(...a)=>d.onInput&&d.onInput(...a))},null,544),[[F,l(s)]]),t[6]||(t[6]=e("svg",{class:"u-svg is-start",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1)),t[7]||(t[7]=e("svg",{class:"u-svg is-end",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1))])])],544),t[8]||(t[8]=e("svg",{viewBox:"0 0 579 1167",class:"u-visually-hidden"},[e("clipPath",{id:"flipsterSvgClip",clipPathUnits:"objectBoundingBox"},[e("path",{d:"M0.868,0 H0.704 V0 H0.132 C0.06,0,0,0.029,0,0.064 V0.936 C0,0.971,0.06,1,0.132,1 H0.868 C0.94,1,1,0.971,1,0.936 V0.064 C1,0.029,0.94,0,0.868,0"})])],-1))],12,q))}},ae=L(Z,[["__scopeId","data-v-9d33d40c"]]);export{ae as default};

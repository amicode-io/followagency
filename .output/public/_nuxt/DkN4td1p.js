import{k as R,r as a,l as W,m as p,c as o,a as e,d as N,t as S,F as z,g as A,i as l,p as F,v as H,q as P,h as y,u as T,o as n,s as U}from"./DthWgLLV.js";import{u as j}from"./BbAfj-rP.js";import{_ as q}from"./DlAUqK2U.js";const E=window.setInterval,L=["id"],G={class:"m-flipster__title"},J={class:"m-flipster__list"},K=["src"],O={key:1,"data-video":"lazy",width:"579",height:"1167",autoplay:"",muted:"",loop:"",playsinline:"",preload:"metadata"},Q=["src"],X={class:"m-flipster__drag"},Y={class:"m-flipster__handle"},Z={__name:"ContentFlipster",props:{id:{type:String,default:""},title:{type:String,default:""}},setup(u){const f=R("flipsterWrap"),b=T(),{x:w}=j(f,{initialValue:{x:0,y:0}}),g=a(1440);W(()=>{g.value=window.innerWidth});const v=a([{type:"image",image_url:"https://picsum.photos/seed/1/400/805"},{type:"video",video_url:"https://pub-2b2d7646d0674576865bb5969de02ed2.r2.dev/4769627-uhd_2160_4096_25fps.mp4"},{type:"image",image_url:"https://picsum.photos/seed/2/400/805"},{type:"image",image_url:"https://picsum.photos/seed/3/400/805"},{type:"image",image_url:"https://picsum.photos/seed/4/400/805"},{type:"video",video_url:"https://pub-2b2d7646d0674576865bb5969de02ed2.r2.dev/12694168_1080_1920_60fps.mp4"},{type:"image",image_url:"https://picsum.photos/seed/5/400/805"},{type:"image",image_url:"https://picsum.photos/seed/6/400/805"},{type:"video",video_url:"https://pub-2b2d7646d0674576865bb5969de02ed2.r2.dev/7251768-uhd_2160_3840_25fps.mp4"},{type:"image",image_url:"https://picsum.photos/seed/7/400/805"}]),h=a(25),c=a(5),I=p(()=>v.value.length),_=a(15),s=a(0),k=p(()=>Math.atan2(_.value,h.value)*(180/Math.PI)+c.value),x=p(()=>(I.value-1)*k.value),M=a(Math.round(-90-x.value/2)),C=p(()=>`${M.value-s.value+Math.floor(w.value/g.value*180)}deg`),r=a(),m=a(!1),D=()=>{s.value===-180&&(m.value=!1),s.value===180&&(m.value=!0),m.value?s.value=Number(s.value)-1:s.value=Number(s.value)+1},V=()=>{r.value||(r.value=E(D,200))},$=()=>{clearInterval(r.value),r.value=null};return(d,t)=>(n(),o("section",{id:u.id?u.id:l(b),class:"m-flipster",style:y(`
      --flipster-items: ${l(v).length};
      --flipster-size: ${l(_)};
      --flipster-diameter: ${l(h)};
      --flipster-distance: ${l(c)};
      --rotation: ${l(C)};
    `)},[e("h2",G,[e("span",null,[N(S(u.title)+" ",1),t[3]||(t[3]=e("svg",{class:"u-svg is-start",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1)),t[4]||(t[4]=e("svg",{class:"u-svg is-end",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1))])]),e("div",{ref_key:"flipsterWrap",ref:f,class:"m-flipster__wrap",onMouseenter:$,onMouseleave:V,onDragstart:t[2]||(t[2]=(...i)=>d.onDragstart&&d.onDragstart(...i))},[e("div",J,[(n(!0),o(z,null,A(l(v),(i,B)=>(n(),o("div",{class:"m-flipster__item",style:y(`--n: ${B}`)},[i.type==="image"?(n(),o("img",{key:0,src:i.image_url,alt:"",loading:"lazy"},null,8,K)):i.type==="video"?(n(),o("video",O,[e("source",{src:i.video_url,type:"video/mp4"},null,8,Q)])):U("",!0)],4))),256))]),e("div",X,[e("div",Y,[t[5]||(t[5]=e("label",{for:"flipsterRange",class:"u-visually-hidden"}," Rotation ",-1)),F(e("input",{class:"m-flipster__range",type:"range",min:-180,max:180,step:"1",id:"flipsterRange","onUpdate:modelValue":t[0]||(t[0]=i=>P(s)?s.value=i:null),style:{width:"100%"},onInput:t[1]||(t[1]=(...i)=>d.onInput&&d.onInput(...i))},null,544),[[H,l(s)]]),t[6]||(t[6]=e("svg",{class:"u-svg is-start",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1)),t[7]||(t[7]=e("svg",{class:"u-svg is-end",width:"24",height:"24",role:"presentation",focusable:"false"},[e("use",{"xlink:href":"#svg-diamond"})],-1))])])],544),t[8]||(t[8]=e("svg",{viewBox:"0 0 579 1167",class:"u-visually-hidden"},[e("clipPath",{id:"flipsterSvgClip",clipPathUnits:"objectBoundingBox"},[e("path",{d:"M0.868,0 H0.704 V0 H0.132 C0.06,0,0,0.029,0,0.064 V0.936 C0,0.971,0.06,1,0.132,1 H0.868 C0.94,1,1,0.971,1,0.936 V0.064 C1,0.029,0.94,0,0.868,0"})])],-1))],12,L))}},ie=q(Z,[["__scopeId","data-v-9d33d40c"]]);export{ie as default};

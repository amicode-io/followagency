import{k as f,r as _,l as E,c as r,a as o,b,w as g,j as w,u as C,o as d,n as u,i as t,e as I,s as P,F as S}from"./DthWgLLV.js";import V from"./3egx9Xn8.js";import{u as x}from"./De4DV4KO.js";import{_ as B}from"./DlAUqK2U.js";const T={class:"m-video-wrap"},N={class:"container"},z=["id"],F=["controls"],L=["src"],$=["src"],j=["preload"],q=["src"],D={__name:"ContentVideo",props:{id:{type:String,default:""},title:{type:String,default:""},loop:{type:String,default:""},url:{type:String,required:!0}},setup(e){const v=x("uid",()=>C()),m=f("loopEl"),l=f("videoEl"),i=_(!1),y=_(!1),h=e,k=n=>{var s,c;n.preventDefault(),i.value?(s=l.value)==null||s.pause():(c=l.value)==null||c.play()},p=()=>{var n;(n=l.value)==null||n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout(()=>{i.value=!0},500),setTimeout(()=>{var s;(s=l.value)==null||s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},1500),document.documentElement.classList.add("is-overflow-hidden")},a=()=>{document.documentElement.classList.remove("is-overflow-hidden"),i.value=!1};return E(()=>{h.loop&&m.value.play()}),(n,s)=>{const c=w;return d(),r("section",T,[o("div",N,[b(c,{animation:"zoom-out fade up",once:!0},{default:g(()=>[o("div",{id:e.id?e.id:t(v),ref:"sectionEl",class:u(`m-video m-video--${t(v)} ${t(i)?"is-play":""}`)},[e.title?(d(),I(t(V),{key:0,ref:"titleEl",is:"h2",title:e.title,class:"m-video__title"},null,8,["title"])):P("",!0),e.loop?(d(),r(S,{key:2},[o("video",{ref_key:"loopEl",ref:m,class:u(["m-video__video m-video--loop",{"is-active":!t(i)}]),playsinline:"",disablepictureinpicture:"",muted:"",loop:"",background:""},[o("source",{src:e.loop,type:"video/mp4"},null,8,$)],2),o("video",{ref_key:"videoEl",ref:l,class:u(["m-video__video m-video--full",{"is-active":t(i)}]),playsinline:"",disablepictureinpicture:"",preload:t(y)?"auto":"none",controls:"",onPlay:p,onPause:a,onEnded:a},[o("source",{src:e.url,type:"video/mp4"},null,8,q)],42,j)],64)):(d(),r("video",{key:1,ref_key:"videoEl",ref:l,class:"m-video__video m-video__video--active",playsinline:"",disablepictureinpicture:"",preload:"metadata",controls:t(i)?"controls":null,onPlay:p,onPause:a,onEnded:a},[o("source",{src:e.url,type:"video/mp4"},null,8,L)],40,F)),o("div",{class:"m-video__overlay",onClick:k})],10,z)]),_:1})])])}}},A=B(D,[["__scopeId","data-v-f295c2f8"]]);export{A as default};

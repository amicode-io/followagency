import{g as k}from"./BpGRBeM2.js";import b from"./BpKkG17k.js";import{u as g}from"./CqdrLGCd.js";import{_ as C}from"./DlAUqK2U.js";import{a2 as f,b as _,C as I,L as r,U as o,R as P,F as S,a0 as V,E as d,I as u,u as t,B as w,a6 as B,P as x}from"./B-6myj8f.js";const T={class:"m-video-wrap"},L={class:"container"},N=["id"],z=["controls"],F=["src"],R=["src"],$=["preload"],q=["src"],D={__name:"ContentVideo",props:{id:{type:String,default:""},title:{type:String,default:""},loop:{type:String,default:""},url:{type:String,required:!0}},setup(e){const m=g("uid",()=>V()),v=f("loopEl"),l=f("videoEl"),i=_(!1),y=_(!1),h=e,E=n=>{var s,c;n.preventDefault(),i.value?(s=l.value)==null||s.pause():(c=l.value)==null||c.play()},p=()=>{var n;(n=l.value)==null||n.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),setTimeout(()=>{i.value=!0},500),setTimeout(()=>{var s;(s=l.value)==null||s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},1500),document.documentElement.classList.add("is-overflow-hidden")},a=()=>{document.documentElement.classList.remove("is-overflow-hidden"),i.value=!1};return I(()=>{h.loop&&v.value.play()}),(n,s)=>{const c=k;return d(),r("section",T,[o("div",L,[P(c,{animation:"zoom-out fade up",once:!0},{default:S(()=>[o("div",{id:e.id?e.id:t(m),ref:"sectionEl",class:u(`m-video m-video--${t(m)} ${t(i)?"is-play":""}`)},[e.title?(d(),w(t(b),{key:0,ref:"titleEl",is:"h2",title:e.title,class:"m-video__title"},null,8,["title"])):B("",!0),e.loop?(d(),r(x,{key:2},[o("video",{ref_key:"loopEl",ref:v,class:u(["m-video__video m-video--loop",{"is-active":!t(i)}]),playsinline:"",disablepictureinpicture:"",muted:"",loop:"",background:""},[o("source",{src:e.loop,type:"video/mp4"},null,8,R)],2),o("video",{ref_key:"videoEl",ref:l,class:u(["m-video__video m-video--full",{"is-active":t(i)}]),playsinline:"",disablepictureinpicture:"",preload:t(y)?"auto":"none",controls:"",onPlay:p,onPause:a,onEnded:a},[o("source",{src:e.url,type:"video/mp4"},null,8,q)],42,$)],64)):(d(),r("video",{key:1,ref_key:"videoEl",ref:l,class:"m-video__video m-video__video--active",playsinline:"",disablepictureinpicture:"",preload:"metadata",controls:t(i)?"controls":null,onPlay:p,onPause:a,onEnded:a},[o("source",{src:e.url,type:"video/mp4"},null,8,F)],40,z)),o("div",{class:"m-video__overlay",onClick:E})],10,N)]),_:1})])])}}},A=C(D,[["__scopeId","data-v-f295c2f8"]]);export{A as default};
